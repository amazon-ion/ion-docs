<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_74) on Tue Apr 19 13:47:17 PDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview (ion-java 1.0)</title>
<meta name="date" content="2016-04-19">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (ion-java 1.0)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Amazon ion-java 1.0 API Reference</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Amazon ion-java 1.0 API Reference</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">Amazon Ion Java is the reference implementation of the
<a href="http://amznlabs.github.io/ion-docs/spec.html">Ion data notation</a> for the
Java<sup><font size="-4">TM</font></sup> 2 Platform Standard Edition 5.0
and above.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="software/amazon/ion/package-summary.html">software.amazon.ion</a></td>
<td class="colLast">
<div class="block">Public interfaces of the core Ion system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="software/amazon/ion/facet/package-summary.html">software.amazon.ion.facet</a></td>
<td class="colLast">
<div class="block">A design pattern for optional extension interfaces, in a manner more
 flexible than class inheritance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="software/amazon/ion/system/package-summary.html">software.amazon.ion.system</a></td>
<td class="colLast">
<div class="block">Public implementation of the core Ion system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="software/amazon/ion/util/package-summary.html">software.amazon.ion.util</a></td>
<td class="colLast">
<div class="block">Various utilites for working with Ion data.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block">Amazon Ion Java is the reference implementation of the
<a href="http://amznlabs.github.io/ion-docs/spec.html">Ion data notation</a> for the
Java<sup><font size="-4">TM</font></sup> 2 Platform Standard Edition 5.0
and above.
<p>
This document describes all APIs intended for public consumption, limited to
the packages listed here. The ion-java library distribution includes other
packages not documented here; use of those packages is not supported.
<p>
More generally:
<b>Any behavior or features not present in this API documentation is
unsupported, probably untested, and subject to change without notice.</b>
<p>
In addition, unless otherwise noted, <b>interfaces and classes listed here
should not be implemented or extended by code outside of this library</b>. We
may add or remove API(s) of existing interfaces or classes in future releases.

<h1>Start at IonSystem</h1>

The central interface in ion-java is <a href="software/amazon/ion/IonSystem.html" title="interface in software.amazon.ion"><code>IonSystem</code></a>, which is
the main factory and facade for all Ion processing.
The intended architectural pattern is for your application to build a
single system instance and use it
throughout the application.  The <code>IonSystem</code> interface provides access
to all other components, including the capability to construct
<a href="software/amazon/ion/IonValue.html" title="interface in software.amazon.ion"><code>IonValue</code></a> hierarchies.
<p>
What all this means is that your first task is acquiring a system instance, and
for that we turn to
<a href="software/amazon/ion/system/IonSystemBuilder.html" title="class in software.amazon.ion.system"><code>IonSystemBuilder</code></a>.
Here's the easiest way to bootstrap:
<pre>
    IonSystem ion = IonSystemBuilder.standard().build();
</pre>
That should be sufficient for many, but not all, applications.  Long-running
services will probably want to use a non-default
<a href="software/amazon/ion/IonCatalog.html" title="interface in software.amazon.ion">catalog</a> by configuring the builder
before calling <a href="software/amazon/ion/system/IonSystemBuilder.html#build--"><code>build()</code></a>.

<h2>An Important Caveat</h2>
Objects returned by one <code>IonSystem</code> cannot by mixed with objects returned
by another <code>IonSystem</code>!  For example, the following code is <b>not
guaranteed to work</b>:

<pre>
    IonSystem sys1 = IonSystemBuilder.standard().build();
    IonSystem sys2 = IonSystemBuilder.standard().build();

    IonList parent = sys1.newEmptyList();
    IonInt  child  = sys2.newInt(23);
    parent.add(child); // NOT SUPPORTED
</pre>

Given any <code>IonValue</code> instance it is possible to retrieve the relevant
system via <a href="software/amazon/ion/IonValue.html#getSystem--"><code>IonValue.getSystem()</code></a>.
This is generally the best way to ensure
that you're using the correct system while modifying existing trees.
You can also use the "Curried" insertion methods to add new values to
collections:
<pre>
    struct.put("f").newInt(3);
    list.add().newString("demo");
</pre>


<h1>Getting Data In</h1>

This release defines three mechanisms for accepting Ion data:
<ul>
  <li><a href="software/amazon/ion/IonReader.html" title="interface in software.amazon.ion"><code>IonReader</code></a> scans an input stream using a
    "pull parsing" paradigm. This is a low-level, high-performance API, and
    the other mechanisms are built on top of it.
  <li>Iteration reads an input stream by
    iterating over its top-level elements.  This "one at a time" input
    mechanism is intended for stream-oriented applications.
  <li><a href="software/amazon/ion/IonLoader.html" title="interface in software.amazon.ion"><code>IonLoader</code></a> loads an entire input stream
    into a single <a href="software/amazon/ion/IonDatagram.html" title="interface in software.amazon.ion">datagram</a>.
    This "all at once" input mechanism is intended for document-oriented
    applications.
</ul>

All mechanisms accept either text or binary Ion data, and applications should
rarely care about the input format.
<p>
To construct an <code>IonReader</code>, call one of the <code>newReader</code> methods
on <code>IonSystem</code>; for example
<a href="software/amazon/ion/IonSystem.html#newReader-java.io.InputStream-"><code>IonSystem.newReader(InputStream)</code></a>.
You can then pull data from the reader. Don't forget to
<a href="http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html?is-external=true#close--" title="class or interface in java.io"><code>close</code></a> it when you're done!
<p>
Ion iterators are extensions of
<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util"><code>Iterator</code></a> so they are used once and then discarded.
Use the various <code>iterate</code> methods on <code>IonSystem</code> to
create them; for example
<a href="software/amazon/ion/IonSystem.html#iterate-java.io.InputStream-"><code>IonSystem.iterate(InputStream)</code></a>.
<p>
To construct an <code>IonLoader</code>, call
<a href="software/amazon/ion/IonSystem.html#newLoader--"><code>IonSystem.newLoader()</code></a> and configure it as necessary.
<code>IonLoaders</code> are safe for use by multiple threads. The <code>IonSystem</code>
also maintains a "default loader" so you don't have to pass one around, see
<a href="software/amazon/ion/IonSystem.html#getLoader--"><code>IonSystem.getLoader()</code></a>.

<h1>Getting Data Out</h1>

There's also several mechanisms for generating Ion data:
<ul>
  <li><a href="software/amazon/ion/IonWriter.html" title="interface in software.amazon.ion"><code>IonWriter</code></a> is the low-level API for
    generating Ion data in some form. It's agnostic to the output format; in
    theory the actual output could be some other format entirely.
  <li><a href="software/amazon/ion/IonValue.html#toString--"><code>IonValue.toString()</code></a> will also
    generate Ion text, but it's primarily intended for debugging purposes and
    cannot be customized.  The particular layout is not specified by contract,
    so don't assume that it will always output the same thing!
  <li><a href="software/amazon/ion/IonValue.html#writeTo-software.amazon.ion.IonWriter-"><code>IonValue.writeTo(IonWriter)</code></a> outputs Ion data in
    the writer's format. This is the best way to output the data model.
  <li>From an <a href="software/amazon/ion/IonDatagram.html" title="interface in software.amazon.ion"><code>IonDatagram</code></a> you can call
    <a href="software/amazon/ion/IonDatagram.html#getBytes--"><code>getBytes()</code></a> to get Ion
    binary data.
</ul>

You can create <code>IonWriter</code>s using methods on <code>IonSystem</code>, but the
<a href="software/amazon/ion/system/IonTextWriterBuilder.html" title="class in software.amazon.ion.system"><code>IonTextWriterBuilder</code></a> provides more flexibility.

<h2>No Canonical Serialization</h2>

There is no specified canonical form of Ion serialized data, and none of the
APIs in this library attempt to create one.  Further, no API in this library
guarantees repeatable or stable output for any data type.  Different releases
of this library, or even different invocations of the same API, may produce
different encodings from the same input.
This caveat applies to both Ion text and binary forms, although violations
are far more common (and easier to make) using Ion text.
<p>
Therefore, applications and tests should never compare the serialized form of
data to determine equality.  For example, the following JUnit idiom is
<b>not supported</b>:
<pre>
    assertEquals(expectedIonValue.toString(), actualIonValue.toString());
</pre>
The same goes for output via any other API, including
<a href="software/amazon/ion/IonWriter.html" title="interface in software.amazon.ion"><code>IonWriter</code></a>s.
<p>
The correct approach to performing semantic equivalence checks over Ion data is
to use documented equivalence APIs such as
<a href="software/amazon/ion/IonValue.html#equals-java.lang.Object-"><code>IonValue.equals()</code></a>. 

<h1>JSON Integration</h1>
The Ion text format is a superset of JSON, so JSON data <em>is</em> Ion data.
This means that you can read JSON data as-is using the Ion libraries, with a
caveat:
<ul>
  <li>JSON numbers with exponents are decoded as Ion float, while those with
      fractions (but not exponents) are decoded as Ion decimal.
</ul>
<p>
To output JSON with this library, Ion data can be "downconverted" to JSON
format using an
<a href="software/amazon/ion/system/IonTextWriterBuilder.html" title="class in software.amazon.ion.system"><code>IonTextWriterBuilder</code></a>.
This replaces Ion-only datatypes with more-or-less equivalent JSON values.

<h1>Thread Safety</h1>

All interfaces and classes are <b>not safe for use by multiple threads</b>
unless documented otherwise.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">Amazon ion-java 1.0 API Reference</div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>Copyright &#169; 2007&ndash;2016 Amazon.com. All Rights Reserved.</center></small></p>
</body>
</html>
